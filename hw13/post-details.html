<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="cssposts.css">
    <title>Document</title>
</head>
<body>
<script>
    // На странице post-details.html:
    // 7 Вивести всю, без виключення, інформацію про об'єкт post на який клікнули .
    // 8 Нижчє інформаці про пост, вивести всі коментарі поточного поста
    // (ендпоінт  - https://jsonplaceholder.typicode.com/posts/POST_ID/comments)

    // post-details.html - блок з інфою про пост зверху. Коментарі - по 4 в ряд.
    //     Всі елементи котрі характеризують users, posts, comments візуалізувати, так, щоб було видно що це блоки (дати фон. марджини і тд)

    let div3 = document.createElement('div')
    document.body.appendChild(div3)
    div3.classList.add('div3')

    let userpost = new URL(location.href).searchParams.get('id')
    let newuserpost = `https://jsonplaceholder.typicode.com/posts/${userpost}`

    fetch(newuserpost)
        .then(value => value.json())
        .then(post => {
            console.log(location)
            console.log(post)
            let div31 = document.createElement('div');
            div31.classList.add('div31')

            let seven = document.createElement('p')
            seven.innerText = `
            UserId: ${post.userId}
            ID: ${post.id}
            Title: ${post.title}
            Body: ${post.body}
                `

            div31.appendChild(seven)

            let div32 = document.createElement('div')
            div32.classList.add('div32')

            let coment = `https://jsonplaceholder.typicode.com/posts/${post.id}/comments`
            fetch(coment)
                .then(value => value.json())
                .then(coments => {
                    for (const coment of coments) {
                        let div4 = document.createElement('div')
                        div4.classList.add('div4')
                        let coments = document.createElement('p');
                        coments.innerText = `Name ${coment.id}: ${coment.name}`
                        div4.appendChild(coments)
                        div32.appendChild(div4)
                    }
                })

            div3.append(div31,div32)
        })


</script>
</body>
</html>